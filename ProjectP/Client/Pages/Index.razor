@page "/"
@using System.Threading
@using System.Threading.Tasks
@using ProjectP.Shared
@using System.Net.Http
@inject HttpClient Http

<h1>Hello, world!</h1><head>
    <h1>This is ProjectP!</h1>
</head>
<body>
    Write some text.
    <div>
        <textarea value="@GetText" @oninput="@ProcText" rows="20" cols="90"></textarea>
    </div>
</body>

Welcome to your new app.

@code {
    TextInstance instance = new TextInstance();
    TextInstance fakeInstance = new TextInstance(){Text = "hh"};
    public string GetText { get; set; } = "gg";
    public async Task ProcText(ChangeEventArgs args)
    {
        instance.Text = args.Value.ToString();
        var response = await Http.PostAsJsonAsync("GText", instance);
        fakeInstance = await response.Content.ReadFromJsonAsync<TextInstance>();
        GetText = fakeInstance.Text;
    }
}